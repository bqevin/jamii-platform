<div class="container">
	<div class="row">
		<div class="col-lg-12">
			<a class="btn btn-default" ui-sref="channel()">Back</a>
			<h3>#{{ channel.name }}</h3>
			<p class="lead">This channel has {{ channel.members.length }} members, and {{ messages.length }} messages since November 2015.</p>
		</div>
	</div>

	<div class="row">
		<div class="col-md-6">

			<h4>Overview</h4>
			<div style="margin-left: auto; margin-right: auto; text-align: center;">
				<img class="media" src="{{ channel.statsimage}}" />
			</div>

			<div class="section">
				<div style="float: right;"><input class="form-control" type="search" ng-model="mmbrfltr" maxlength="10" placeholder="Search Members"/></div>
				<div><h4>Members</h4></div>
			</div>
			<ul class="list-group" style="list-style: none;">
				<li class="list-group-item" style="list-style: none;" ng-repeat="member in channel.members | filter: mmbrfltr">+{{ member.number }}
					<div class="help-block">{{ member.gender }}, age {{ member.age }}</div>
				</li>
			</ul>
		</div>

		<div class="col-md-6">

			<h4>Message the Channel</h4>
			<form class="form" ng-submit="sendMessageToChannel()">
				<div class="form-group">
					<input type="text" class="form-control" ng-model="command" maxlength="120" placeholder="max 120 characters" required="required" />
				</div>
				<div class="form-group">
					<input  style="float: left;" type="submit" class="btn btn-primary" value="Send" />
					<div style="float: left; padding-left: 1em;" class="help-block">Will send this to {{ channel.members.length }} members by SMS.</div>
				</div>
			</form>

			<div class="section" style="clear: both;">
				<div style="float: right;"><input type="search"  class="form-control" ng-model="msgfltr" maxlength="10" placeholder="Search Messages"/></div>
				<div><h4>Message History</h4></div>
			</div>
			<ul class="list-group" style="list-style: none;">
				<li class="list-group-item" style="list-style: none;" ng-repeat="message in messages | filter: msgfltr">{{ message.content }}<div class="help-block">Sent by {{ message.from }}, about <span am-time-ago="message.createdAt"></span></div></li>
			</ul>
		</div>
	</div>

</div>
